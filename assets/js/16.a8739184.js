(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{383:function(t,e,a){"use strict";a.r(e);var s=a(27),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"基础知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[t._v("#")]),t._v(" 基础知识")]),t._v(" "),a("h2",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("h3",{attrs:{id:"理解事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理解事件流"}},[t._v("#")]),t._v(" 理解事件流")]),t._v(" "),a("p",[t._v("事件流描述了页面接受事件的顺序。")]),t._v(" "),a("p",[t._v("IE事件流被称为事件冒泡，因为事件被定义从最具体的元素开始触发，然后向上传播至没有那么具体的元素「"),a("code",[t._v("document")]),t._v("」。")]),t._v(" "),a("p",[t._v("所有现代浏览器都支持事件冒泡。")]),t._v(" "),a("p",[t._v("事件捕获的意思是最不具体的节点应该最先收到事件，而最具体的节点应该最后收到事件。")]),t._v(" "),a("p",[t._v("事件捕获实际上是为了在事件达到最终目标前拦截事件。\n如："),a("code",[t._v("点击事件click首先由")]),t._v(" "),a("code",[t._v("document")]),t._v(" 元素捕获，然后沿 DOM 树依次向下传播，直到到达实际的目标元素 "),a("code",[t._v("<div>")]),t._v(" 。")]),t._v(" "),a("p",[t._v("实际上，所有浏览器都是从 "),a("code",[t._v("window")]),t._v(" 对象开始捕获事件，而 DOM2 Events 规范规定的是从 "),a("code",[t._v("document")]),t._v(" 开始。")]),t._v(" "),a("p",[t._v("因为旧版本浏览器不支持，所以实际当中几乎不会使用事件捕获，建议使用事件冒泡，特殊情况下才考虑使用事件捕获。")]),t._v(" "),a("p",[t._v("DOM2 Events 规范规定事件流分为3个阶段："),a("strong",[t._v("事件捕获、到达目标和事件冒泡")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"使用事件处理程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用事件处理程序"}},[t._v("#")]),t._v(" 使用事件处理程序")]),t._v(" "),a("p",[t._v("为响应事件而调用的函数被称为事件处理程序。")]),t._v(" "),a("p",[t._v("HTML事件处理程序，即标签中定义的如 onclick 事件，包含局部变量 event。")]),t._v(" "),a("p",[t._v("DOM0 事件处理程序，JS中取得操作对象的引用，再去添加属性 onclick。")]),t._v(" "),a("p",[t._v("DOM2 事件处理程序，定义了两个方法："),a("code",[t._v("addEventListener()")]),t._v(" 和 "),a("code",[t._v("removeEventListener()")]),t._v(" 。接收3个参数：事件名、事件处理函数和一个布尔值。")]),t._v(" "),a("p",[t._v("true 表示再捕获阶段调用事件处理函数，false 表示在冒泡阶段调用事件处理函数。")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 事件冒泡阶段，可以绑定多个")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handler")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// removeEnentListerer 第二个参数，应使用同一个 handler")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("IE 事件处理程序，IE 实现了与 DOM 类似的方法，即 "),a("code",[t._v("attachEvent()")]),t._v(" 和 "),a("code",[t._v("detachEvent()")]),t._v("。接受两个参数。\n添加多个 "),a("code",[t._v("attachEvent()")]),t._v(" 时，触发顺序为先声明后调用。")]),t._v(" "),a("p",[t._v("跨浏览器事件处理程序，整合 DOM0、DOM2和IE处理方式。")]),t._v(" "),a("p",[t._v("事件对象，Event 对象。")]),t._v(" "),a("p",[t._v("DOM 事件对象的公共属性和方法：\nbubbles                     Boolean   表示事件是否冒泡")]),t._v(" "),a("p",[t._v("cancelable                  Boolean   表示是否可以取消事件的默认行为")]),t._v(" "),a("p",[t._v("currentTarget               element   当前事件处理程序所在的元素")]),t._v(" "),a("p",[t._v("defaultPrevented            Boolean   true 表示已经调用 perventDefault() 方法（DOM3 新增）")]),t._v(" "),a("p",[t._v("detail                      Number    事件相关的其他信息")]),t._v(" "),a("p",[t._v("eventPhase                  Number    调用事件处理程序的阶段：1 捕获阶段、2 到达目标、3 冒泡阶段")]),t._v(" "),a("p",[t._v("preventDefault()            Function  取消事件的默认行为。只有cancelable为true 才可以调用这个方法")]),t._v(" "),a("p",[t._v("stopImmediatePropagation()  用于取消所有后续事件捕获或事件冒泡，并阻止调用任何后续事件处理程序（DOM3 新增）")]),t._v(" "),a("p",[t._v("stopPropagation()           用于取消所有后续事件捕获或事件冒泡。只有 bubbles 为true才可以调用这个方法。")]),t._v(" "),a("p",[t._v("target                      事件目标")]),t._v(" "),a("p",[t._v("trusted                     true 表示事件是由浏览器生成的。false 表示事件是开发者通过JS创建的（DOM3 新增）")]),t._v(" "),a("p",[t._v("type                        被触发的事件类型")]),t._v(" "),a("p",[t._v("View                        与事件相关的抽象视图。等于事件所发生的 window 对象。")]),t._v(" "),a("p",[t._v("事件处理的内部，this 对象始终等于 currentTarget 的值。")]),t._v(" "),a("h3",{attrs:{id:"了解不同类型的事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#了解不同类型的事件"}},[t._v("#")]),t._v(" 了解不同类型的事件")]),t._v(" "),a("p",[t._v("用户界面事件：load、unload、abort、error、select、resize、scroll。")]),t._v(" "),a("p",[t._v("焦点事件：blur、DOMFocusIn、focus、focusin、focusout。")]),t._v(" "),a("p",[t._v("鼠标事件：click、dblclick、mousedown、mouseenter、mouseleave、mousemove、mouseout、mouseover、mouseup。")]),t._v(" "),a("p",[t._v("滚轮事件：同上")]),t._v(" "),a("p",[t._v("输入事件：keydown、keypress、keyup")]),t._v(" "),a("p",[t._v("键盘事件：同上")]),t._v(" "),a("p",[t._v("合成事件：compositionstart、compositionupdate、compositionend")]),t._v(" "),a("p",[t._v("HTML5 事件")]),t._v(" "),a("p",[t._v("contextmenu")]),t._v(" "),a("p",[t._v("beforeunload")]),t._v(" "),a("p",[t._v("DOMContentLoaded")]),t._v(" "),a("p",[t._v("readystatechange：文档或元素状态加载的信息，属性 readyState：uninitialized、loading、loaded、interactive、complete。")]),t._v(" "),a("p",[t._v("hashchange：URL#后面部分发生变化时通知开发者。")]),t._v(" "),a("p",[t._v("设备事件")]),t._v(" "),a("p",[t._v("orientationchange")]),t._v(" "),a("p",[t._v("deviceorientation")]),t._v(" "),a("p",[t._v("devicemotion")]),t._v(" "),a("p",[t._v("触摸及手势事件")]),t._v(" "),a("p",[t._v("触摸事件：touchstart、touchmove、touchend、touchcancel。")]),t._v(" "),a("p",[t._v("手势事件：gesturestart、gesturechange、gestureend")]),t._v(" "),a("h3",{attrs:{id:"内存与性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内存与性能"}},[t._v("#")]),t._v(" 内存与性能")]),t._v(" "),a("p",[t._v("过多事件处理程序的解决方案是使用事件委托，利用事件冒泡，只使用一个处理程序来管理一种类型的事件。")]),t._v(" "),a("p",[t._v("删除事件处理程序")]),t._v(" "),a("h3",{attrs:{id:"模拟事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模拟事件"}},[t._v("#")]),t._v(" 模拟事件")])])}),[],!1,null,null,null);e.default=n.exports}}]);