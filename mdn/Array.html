<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Array | 前端知识</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="欢迎访问公众号：前端周报">
    
    <link rel="preload" href="/assets/css/0.styles.b3dad54c.css" as="style"><link rel="preload" href="/assets/js/app.c54d73b3.js" as="script"><link rel="preload" href="/assets/js/2.6cdc8135.js" as="script"><link rel="preload" href="/assets/js/99.24466c79.js" as="script"><link rel="preload" href="/assets/js/4.a41c0c79.js" as="script"><link rel="prefetch" href="/assets/js/10.c02c1e21.js"><link rel="prefetch" href="/assets/js/100.8700d646.js"><link rel="prefetch" href="/assets/js/101.3a187938.js"><link rel="prefetch" href="/assets/js/102.05cbfba4.js"><link rel="prefetch" href="/assets/js/103.ce22a9d1.js"><link rel="prefetch" href="/assets/js/104.7fb5abfe.js"><link rel="prefetch" href="/assets/js/105.76f077bd.js"><link rel="prefetch" href="/assets/js/106.0aa897e9.js"><link rel="prefetch" href="/assets/js/107.762b7545.js"><link rel="prefetch" href="/assets/js/108.af4eb65b.js"><link rel="prefetch" href="/assets/js/109.a861e6aa.js"><link rel="prefetch" href="/assets/js/11.28ffe2ea.js"><link rel="prefetch" href="/assets/js/110.9a0a6e5b.js"><link rel="prefetch" href="/assets/js/111.ff3ee859.js"><link rel="prefetch" href="/assets/js/112.79eba6d4.js"><link rel="prefetch" href="/assets/js/113.2fbc12db.js"><link rel="prefetch" href="/assets/js/114.8b7d68cd.js"><link rel="prefetch" href="/assets/js/115.5ea81830.js"><link rel="prefetch" href="/assets/js/116.40b46845.js"><link rel="prefetch" href="/assets/js/117.8c956aef.js"><link rel="prefetch" href="/assets/js/118.598a09ff.js"><link rel="prefetch" href="/assets/js/119.57cda7c9.js"><link rel="prefetch" href="/assets/js/12.17171ff9.js"><link rel="prefetch" href="/assets/js/120.baa8b724.js"><link rel="prefetch" href="/assets/js/121.b21708fa.js"><link rel="prefetch" href="/assets/js/122.d86a560f.js"><link rel="prefetch" href="/assets/js/123.326dcef8.js"><link rel="prefetch" href="/assets/js/124.be8155c5.js"><link rel="prefetch" href="/assets/js/125.038837fb.js"><link rel="prefetch" href="/assets/js/126.82810062.js"><link rel="prefetch" href="/assets/js/127.cdf23cc3.js"><link rel="prefetch" href="/assets/js/128.3921536c.js"><link rel="prefetch" href="/assets/js/129.fe16c1d8.js"><link rel="prefetch" href="/assets/js/13.92e69144.js"><link rel="prefetch" href="/assets/js/130.a8b1661f.js"><link rel="prefetch" href="/assets/js/131.12b5f184.js"><link rel="prefetch" href="/assets/js/132.cf3721df.js"><link rel="prefetch" href="/assets/js/133.6ac5a394.js"><link rel="prefetch" href="/assets/js/134.e3c0ab63.js"><link rel="prefetch" href="/assets/js/135.c852878d.js"><link rel="prefetch" href="/assets/js/136.637439b3.js"><link rel="prefetch" href="/assets/js/137.c529cb4d.js"><link rel="prefetch" href="/assets/js/138.1bcf2e99.js"><link rel="prefetch" href="/assets/js/14.1ad2cb2c.js"><link rel="prefetch" href="/assets/js/15.04d83116.js"><link rel="prefetch" href="/assets/js/16.509bd9b7.js"><link rel="prefetch" href="/assets/js/17.36a6c880.js"><link rel="prefetch" href="/assets/js/18.7504f2f2.js"><link rel="prefetch" href="/assets/js/19.adcade81.js"><link rel="prefetch" href="/assets/js/20.a48cc099.js"><link rel="prefetch" href="/assets/js/21.e08d4a66.js"><link rel="prefetch" href="/assets/js/22.e15443d8.js"><link rel="prefetch" href="/assets/js/23.d1e92eb1.js"><link rel="prefetch" href="/assets/js/24.34b53952.js"><link rel="prefetch" href="/assets/js/25.d41b9dd6.js"><link rel="prefetch" href="/assets/js/26.04879470.js"><link rel="prefetch" href="/assets/js/27.f36afdbf.js"><link rel="prefetch" href="/assets/js/28.60564414.js"><link rel="prefetch" href="/assets/js/29.f2d76d07.js"><link rel="prefetch" href="/assets/js/3.08666eba.js"><link rel="prefetch" href="/assets/js/30.58237659.js"><link rel="prefetch" href="/assets/js/31.ca6fa0ba.js"><link rel="prefetch" href="/assets/js/32.690853b8.js"><link rel="prefetch" href="/assets/js/33.78101815.js"><link rel="prefetch" href="/assets/js/34.a03db625.js"><link rel="prefetch" href="/assets/js/35.351fcf38.js"><link rel="prefetch" href="/assets/js/36.ef6ff735.js"><link rel="prefetch" href="/assets/js/37.a5b5e000.js"><link rel="prefetch" href="/assets/js/38.833005a4.js"><link rel="prefetch" href="/assets/js/39.35650724.js"><link rel="prefetch" href="/assets/js/40.36336ee6.js"><link rel="prefetch" href="/assets/js/41.8ab71818.js"><link rel="prefetch" href="/assets/js/42.bb097faf.js"><link rel="prefetch" href="/assets/js/43.61e77c0c.js"><link rel="prefetch" href="/assets/js/44.0b4457ca.js"><link rel="prefetch" href="/assets/js/45.aac3b481.js"><link rel="prefetch" href="/assets/js/46.a508044f.js"><link rel="prefetch" href="/assets/js/47.ce917a93.js"><link rel="prefetch" href="/assets/js/48.c714bc1d.js"><link rel="prefetch" href="/assets/js/49.92804c9b.js"><link rel="prefetch" href="/assets/js/5.30a0b667.js"><link rel="prefetch" href="/assets/js/50.87b3809b.js"><link rel="prefetch" href="/assets/js/51.b27ce3cc.js"><link rel="prefetch" href="/assets/js/52.477f8fb5.js"><link rel="prefetch" href="/assets/js/53.4bda0434.js"><link rel="prefetch" href="/assets/js/54.525de579.js"><link rel="prefetch" href="/assets/js/55.ef8e0bfb.js"><link rel="prefetch" href="/assets/js/56.3962c9c3.js"><link rel="prefetch" href="/assets/js/57.d6f42c28.js"><link rel="prefetch" href="/assets/js/58.8fea3227.js"><link rel="prefetch" href="/assets/js/59.bd7b25f7.js"><link rel="prefetch" href="/assets/js/6.3025ef15.js"><link rel="prefetch" href="/assets/js/60.05d4b4ea.js"><link rel="prefetch" href="/assets/js/61.831da8d5.js"><link rel="prefetch" href="/assets/js/62.7fceeeb1.js"><link rel="prefetch" href="/assets/js/63.6f46075f.js"><link rel="prefetch" href="/assets/js/64.1d89c818.js"><link rel="prefetch" href="/assets/js/65.ec965501.js"><link rel="prefetch" href="/assets/js/66.893ec329.js"><link rel="prefetch" href="/assets/js/67.4d00e228.js"><link rel="prefetch" href="/assets/js/68.9f06b6a2.js"><link rel="prefetch" href="/assets/js/69.07e70ec7.js"><link rel="prefetch" href="/assets/js/7.c16c90e5.js"><link rel="prefetch" href="/assets/js/70.5e312c5b.js"><link rel="prefetch" href="/assets/js/71.9c68dd0b.js"><link rel="prefetch" href="/assets/js/72.99f53b1e.js"><link rel="prefetch" href="/assets/js/73.a98aebf5.js"><link rel="prefetch" href="/assets/js/74.55ccc92d.js"><link rel="prefetch" href="/assets/js/75.8fbad63a.js"><link rel="prefetch" href="/assets/js/76.22115303.js"><link rel="prefetch" href="/assets/js/77.89a66502.js"><link rel="prefetch" href="/assets/js/78.585e01c4.js"><link rel="prefetch" href="/assets/js/79.cef89b61.js"><link rel="prefetch" href="/assets/js/8.20975b36.js"><link rel="prefetch" href="/assets/js/80.40e152a5.js"><link rel="prefetch" href="/assets/js/81.7bd4f3fa.js"><link rel="prefetch" href="/assets/js/82.06872893.js"><link rel="prefetch" href="/assets/js/83.b70b99a6.js"><link rel="prefetch" href="/assets/js/84.fd372a96.js"><link rel="prefetch" href="/assets/js/85.1837c29b.js"><link rel="prefetch" href="/assets/js/86.295ae7b1.js"><link rel="prefetch" href="/assets/js/87.c4287e41.js"><link rel="prefetch" href="/assets/js/88.1850155b.js"><link rel="prefetch" href="/assets/js/89.e2a7834d.js"><link rel="prefetch" href="/assets/js/9.2ee6a774.js"><link rel="prefetch" href="/assets/js/90.3b4154d1.js"><link rel="prefetch" href="/assets/js/91.25b76255.js"><link rel="prefetch" href="/assets/js/92.bb5707b2.js"><link rel="prefetch" href="/assets/js/93.918cc5ea.js"><link rel="prefetch" href="/assets/js/94.3f688cce.js"><link rel="prefetch" href="/assets/js/95.e8066710.js"><link rel="prefetch" href="/assets/js/96.d49e2a71.js"><link rel="prefetch" href="/assets/js/97.965ac2e0.js"><link rel="prefetch" href="/assets/js/98.05924f51.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3dad54c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/base/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/more/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  原创
</a></div><div class="nav-item"><a href="/mdn/" class="nav-link router-link-active">
  MDN
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  力扣
</a></div> <a href="https://github.com/maxlxq/maxlxq.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/base/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/more/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  原创
</a></div><div class="nav-item"><a href="/mdn/" class="nav-link router-link-active">
  MDN
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  力扣
</a></div> <a href="https://github.com/maxlxq/maxlxq.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MDN</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mdn/真_基础.html" class="sidebar-link">JS 基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>内置标准对象</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mdn/Array.html" aria-current="page" class="active sidebar-link">Array</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mdn/Array.html#数组使用" class="sidebar-link">数组使用</a></li><li class="sidebar-sub-header"><a href="/mdn/Array.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/mdn/Array.html#方法" class="sidebar-link">方法</a></li><li class="sidebar-sub-header"><a href="/mdn/Array.html#修改器方法" class="sidebar-link">修改器方法</a></li><li class="sidebar-sub-header"><a href="/mdn/Array.html#访问方法" class="sidebar-link">访问方法</a></li><li class="sidebar-sub-header"><a href="/mdn/Array.html#迭代方法" class="sidebar-link">迭代方法</a></li></ul></li><li><a href="/mdn/Symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/mdn/Promise.html" class="sidebar-link">Promise</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="array"><a href="#array" class="header-anchor">#</a> Array</h1> <blockquote><p>更新时间：2021/04/29</p></blockquote> <h2 id="数组使用"><a href="#数组使用" class="header-anchor">#</a> 数组使用</h2> <h3 id="创建数组"><a href="#创建数组" class="header-anchor">#</a> 创建数组</h3> <p><code>let fruits = ['Apple', 'Banana']</code></p> <h3 id="通过索引访问"><a href="#通过索引访问" class="header-anchor">#</a> 通过索引访问</h3> <p><code>let first = fruits[0]</code></p> <h3 id="遍历数组"><a href="#遍历数组" class="header-anchor">#</a> 遍历数组</h3> <p><code>fruits.forEach((item, index, array) =&gt; console.log(item, index))</code></p> <h3 id="尾部添加元素"><a href="#尾部添加元素" class="header-anchor">#</a> 尾部添加元素</h3> <p><code>let newLength = fruits.push('Orange')</code></p> <h3 id="删除尾部元素"><a href="#删除尾部元素" class="header-anchor">#</a> 删除尾部元素</h3> <p><code>let last = fruits.pop()</code></p> <h3 id="添加头部元素"><a href="#添加头部元素" class="header-anchor">#</a> 添加头部元素</h3> <p><code>let newLength = fruits.unshift('Strawberry')</code></p> <h3 id="删除头部元素"><a href="#删除头部元素" class="header-anchor">#</a> 删除头部元素</h3> <p><code>let first = fruits.shift()</code></p> <h3 id="找到某元素索引"><a href="#找到某元素索引" class="header-anchor">#</a> 找到某元素索引</h3> <p><code>let pos = fruits.indexOf('Banana')</code></p> <h3 id="通过索引删除某元素"><a href="#通过索引删除某元素" class="header-anchor">#</a> 通过索引删除某元素</h3> <p><code>let removedItem = fruits.splice(pos, 1)</code></p> <h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <h3 id="array-length"><a href="#array-length" class="header-anchor">#</a> Array.length</h3> <p>Array 构造函数的 length 属性，值为 1，静态属性，不是数组实例的 length 属性</p> <h3 id="get-array-species"><a href="#get-array-species" class="header-anchor">#</a> get Array[@@species]</h3> <p>返回 Array 构造函数</p> <h3 id="array-prototype"><a href="#array-prototype" class="header-anchor">#</a> Array.prototype</h3> <p>通过数组的原型对象可以为所有数组对象添加属性</p> <h2 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h2> <h3 id="array-form"><a href="#array-form" class="header-anchor">#</a> Array.form()</h3> <ul><li><p>从类数组对象或者可迭代对象中创建一个新的数组实例：<code>Array.form(arguments)</code></p></li> <li><p>其他转换数组：<code>Array.form('foo')</code>、<code>Array.from(new Set(['foo', 'bar', 'baz', 'foo']))</code></p></li> <li><p>克隆数组[浅拷贝]：<code>Array.form([1,2,3])</code></p></li> <li><p>克隆数组[深拷贝]：</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">recursiveClone</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">?</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> recursiveClone<span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><details><summary>
Polyfill
</summary> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span>from <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">isCallable</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">||</span> <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Function]'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">toInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> number<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> maxSafeInteger <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">toLength</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> maxSafeInteger<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// The length property of the from method is 1.</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token keyword">from</span><span class="token punctuation">(</span>arrayLike<span class="token comment">/*, mapFn, thisArg */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. Let C be the this value.</span>
    <span class="token keyword">var</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. Let items be ToObject(arrayLike).</span>
    <span class="token keyword">var</span> items <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3. ReturnIfAbrupt(items).</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arrayLike <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Array.from requires an array-like object - not null or undefined&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4. If mapfn is undefined, then let mapping be false.</span>
    <span class="token keyword">var</span> mapFn <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">T</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> mapFn <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 5. else</span>
      <span class="token comment">// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isCallable</span><span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Array.from: when provided, the second argument must be a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">T</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 10. Let lenValue be Get(items, &quot;length&quot;).</span>
    <span class="token comment">// 11. Let len be ToLength(lenValue).</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token function">toLength</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 13. If IsConstructor(C) is true, then</span>
    <span class="token comment">// 13. a. Let A be the result of calling the [[Construct]] internal method</span>
    <span class="token comment">// of C with an argument list containing the single item len.</span>
    <span class="token comment">// 14. a. Else, Let A be ArrayCreate(len).</span>
    <span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">isCallable</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 16. Let k be 0.</span>
    <span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 17. Repeat, while k &lt; len… (also steps a - h)</span>
    <span class="token keyword">var</span> kValue<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      kValue <span class="token operator">=</span> items<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">A</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token constant">T</span> <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> <span class="token function">mapFn</span><span class="token punctuation">(</span>kValue<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">mapFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> kValue<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token constant">A</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> kValue<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      k <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 18. Let putStatus be Put(A, &quot;length&quot;, len, true).</span>
    <span class="token constant">A</span><span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
    <span class="token comment">// 20. Return A.</span>
    <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div></details> <h3 id="array-isarray"><a href="#array-isarray" class="header-anchor">#</a> Array.isArray</h3> <p>判断是否为 Array</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// Array.prototype 也是一个数组 =&gt; 很少人知道</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>检测 Array 实例时，优于 instanceof，能检测 iframes</p> <details><summary>
Polyfill
</summary> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details> <h3 id="array-of"><a href="#array-of" class="header-anchor">#</a> Array.of()</h3> <p>接收任意个参数，按顺序称为返回数组中的元素<br> <code>Array.of(7) // [7]</code><br> <code>Array.of(1,2,3) // [1,2,3]</code></p> <p><code>Array(7) // [ , , , , , , ]</code><br> <code>Array(1,2,3) // [1,2,3]</code></p> <details><summary>
兼容旧环境
</summary> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function-variable function">of</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details> <h2 id="修改器方法"><a href="#修改器方法" class="header-anchor">#</a> 修改器方法</h2> <h3 id="array-prototype-copywithin-实验特性"><a href="#array-prototype-copywithin-实验特性" class="header-anchor">#</a> Array.prototype.copyWithin() // 实验特性</h3> <p>在数组内部，将一段元素序列拷贝到另一段元素序列上，覆盖原有值</p> <p><code>[1,2,3,4,5].copyWithin(0, 3, 4) // [4,5,3,4,5]</code><br> <code>[1,2,3,4,5].copyWithin(0, 3, 4) // [4,2,3,4,5]</code></p> <blockquote><p>arr.copyWithin(target[, start[, end]])</p></blockquote> <details><summary>
Polyfill
</summary> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">copyWithin</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> start<span class="token comment">/*, end*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Steps 1-2.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'this is null or not defined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Steps 3-5.</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// Steps 6-8.</span>
  <span class="token keyword">var</span> relativeTarget <span class="token operator">=</span> target <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> to <span class="token operator">=</span> relativeTarget <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
    Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeTarget<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
    Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeTarget<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Steps 9-11.</span>
  <span class="token keyword">var</span> relativeStart <span class="token operator">=</span> start <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> <span class="token keyword">from</span> <span class="token operator">=</span> relativeStart <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
    Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeStart<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
    Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeStart<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Steps 12-14.</span>
  <span class="token keyword">var</span> end <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> relativeEnd <span class="token operator">=</span> end <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> len <span class="token operator">:</span> end <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> final <span class="token operator">=</span> relativeEnd <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
    Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeEnd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
    Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeEnd<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Step 15.</span>
  <span class="token keyword">var</span> count <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>final <span class="token operator">-</span> <span class="token keyword">from</span><span class="token punctuation">,</span> len <span class="token operator">-</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Steps 16-17.</span>
  <span class="token keyword">var</span> direction <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token operator">&lt;</span> to <span class="token operator">&amp;&amp;</span> to <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    direction <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">from</span> <span class="token operator">+=</span> count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    to <span class="token operator">+=</span> count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Step 18.</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">from</span> <span class="token keyword">in</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token constant">O</span><span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> <span class="token constant">O</span><span class="token punctuation">[</span>to<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">from</span> <span class="token operator">+=</span> direction<span class="token punctuation">;</span>
    to <span class="token operator">+=</span> direction<span class="token punctuation">;</span>
    count<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Step 19.</span>
  <span class="token keyword">return</span> <span class="token constant">O</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div></details> <h3 id="array-prototype-fill-实验特性"><a href="#array-prototype-fill-实验特性" class="header-anchor">#</a> Array.prototype.fill() // 实验特性</h3> <p>将数组中指定区间的所有元素的值，都替换成某个固定的值</p> <blockquote><p>arr.fill(value[, start[, end]])</p></blockquote> <p><code>[1,2,3].fill(4) // [4,4,4]</code><br> <code>[1,2,3].fill(4, 1) // [1,4,4]</code><br> <code>[1,2,3].fill(4, 1, 2) // [1,4,3]</code><br> <code>[1,2,3].fill(4, 3, 3) // [1,2,3]</code><br> <code>[1,2,3].fill(4, -3, -2) // [1,2,3].fill(4, 0, 1) [4,2,3]</code></p> <details><summary>
Polyfill
</summary> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Steps 1-2.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'this is null or not defined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Steps 3-5.</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// Steps 6-7.</span>
    <span class="token keyword">var</span> start <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> relativeStart <span class="token operator">=</span> start <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// Step 8.</span>
    <span class="token keyword">var</span> k <span class="token operator">=</span> relativeStart <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeStart<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
      Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeStart<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Steps 9-10.</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> relativeEnd <span class="token operator">=</span> end <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
      len <span class="token operator">:</span> end <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// Step 11.</span>
    <span class="token keyword">var</span> final <span class="token operator">=</span> relativeEnd <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeEnd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
      Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeEnd<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Step 12.</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> final<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      k<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Step 13.</span>
    <span class="token keyword">return</span> <span class="token constant">O</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div></details> <h3 id="array-prototype-pop"><a href="#array-prototype-pop" class="header-anchor">#</a> Array.prototype.pop()</h3> <p>删除数组最后一个元素，并返回该元素的值。更改数组长度。<br> <code>[1,2,3].pop() // 3</code><br> <code>[].pop() // undefined</code></p> <h3 id="array-prototype-push"><a href="#array-prototype-push" class="header-anchor">#</a> Array.prototype.push()</h3> <p>讲一个或多个元素添加到数组的末尾，并返回更新后该数组的长度<br> <code>[1,2,3].push(4) // 4 // [1,2,3,4]</code><br> <code>[1,2,3].push(4,5,6) // 6 // [1,2,3,4,5,6]</code></p> <h3 id="array-prototype-reverse"><a href="#array-prototype-reverse" class="header-anchor">#</a> Array.prototype.reverse()</h3> <p>将数组中元素的位置颠倒，并返回该数组。<br> <code>[1,2,3].reverse() // [3,2,1]</code></p> <h3 id="array-prototype-shift"><a href="#array-prototype-shift" class="header-anchor">#</a> Array.prototype.shift()</h3> <p>删除第一个元素，并返回该元素的值。更改数组长度<br> <code>[1,2,3].shift() // 1</code><br> <code>[].shift() // undefined</code></p> <h3 id="array-prototype-unshift"><a href="#array-prototype-unshift" class="header-anchor">#</a> Array.prototype.unshift()</h3> <p>在数组首部添加一个或多个元素，并返回该数组的新长度<br> <code>[4,5,6].unshift(1,2,3) // [1,2,3,4,5,6]</code></p> <h3 id="array-prototype-sort"><a href="#array-prototype-sort" class="header-anchor">#</a> Array.prototype.sort()</h3> <p>使用原地算法对数组的元素进行排序，并返回数组。</p> <blockquote><p>默认排序顺序时将元素转为字符串，然后比较 UTF-16 代码的单元值序列。</p></blockquote> <blockquote><p>arr.sort([compareFunction])</p></blockquote> <details><summary>
比较函数：compareFunction(firstEl, secondEl)
</summary> <ol><li>升序结果, 比较函数</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>数字比较，升序结果</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">compareNumbers</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>对非 ASCII 字符排序</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>复杂排序，首先使用映射将实际比较结果保存在数据中，排序后再恢复</li></ol></details> <h3 id="array-prototype-splice"><a href="#array-prototype-splice" class="header-anchor">#</a> Array.prototype.splice()</h3> <p>通过删除、或替换现有元素、或原地添加新元素来修改数组，并以数组形式返回被修改的内容。修改数组长度</p> <blockquote><p>array.splice(start[, deleteCount[, item1[, ...]]])</p></blockquote> <p><code>[1,2,3].splice(1,1) // [2] // [1,3]</code><br> <code>[1,2,3].splice(1,0,4) // [] // [1,4,2,3]</code><br> <code>[1,2,3].splice(1,1,4) // [2] // [1,4,3]</code><br> <code>[1,2,3].splice(1,1,4,5,6) // [2] // [1,4,5,6,3]</code><br> <code>[1,2,3].splice(1) // [2,3] // [1]</code></p> <h2 id="访问方法"><a href="#访问方法" class="header-anchor">#</a> 访问方法</h2> <h3 id="array-prototype-concat"><a href="#array-prototype-concat" class="header-anchor">#</a> Array.prototype.concat()</h3> <p>返回一个由当前数组和其他若干个数组或者若干个非数组值组合而成的新数组</p> <h3 id="array-prototype-includes-实验"><a href="#array-prototype-includes-实验" class="header-anchor">#</a> Array.prototype.includes() // 实验</h3> <p>判断当前数组是否包含某指定的值；返回 <code>true or false</code></p> <h3 id="array-prototype-join"><a href="#array-prototype-join" class="header-anchor">#</a> Array.prototype.join()</h3> <p>连接所有数组元素，组合成一个字符串</p> <h3 id="array-prototype-slice"><a href="#array-prototype-slice" class="header-anchor">#</a> Array.prototype.slice()</h3> <p>抽取当前数组的一段元素组成一个新数组</p> <h3 id="array-prototype-tosource-⚠️"><a href="#array-prototype-tosource-⚠️" class="header-anchor">#</a> Array.prototype.toSource() // ⚠️</h3> <p>返回一个表示当前数组字面量的字符串</p> <h3 id="array-prototype-tostring"><a href="#array-prototype-tostring" class="header-anchor">#</a> Array.prototype.toString()</h3> <p>返回一个由所有数组元素组合而成的字符串。屏蔽原型链上的 Object.prototype.toString() 方法</p> <h3 id="array-prototype-tolocalestring"><a href="#array-prototype-tolocalestring" class="header-anchor">#</a> Array.prototype.toLocaleString()</h3> <p>返回一个由所有数组元素组合而成的本地化后的字符串。屏蔽原型链上的 Object.prototype.toLocaleString() 方法</p> <h3 id="array-prototype-indexof"><a href="#array-prototype-indexof" class="header-anchor">#</a> Array.prototype.indexOf()</h3> <p>返回数组中第一个与指定值相等的元素的索引，如果找不到这样的元素，则返回 -1</p> <h3 id="array-prototype-lastindexof"><a href="#array-prototype-lastindexof" class="header-anchor">#</a> Array.prototype.lastIndexOf()</h3> <p>返回数组中最后一个与指定值相等的元素的索引，如果找不到这样的元素，则返回 -1</p> <h2 id="迭代方法"><a href="#迭代方法" class="header-anchor">#</a> 迭代方法</h2> <h3 id="array-prototype-foreach"><a href="#array-prototype-foreach" class="header-anchor">#</a> Array.prototype.forEach()</h3> <p>为数组中每个元素执行一次回调函数</p> <h3 id="array-prototype-entries-实验"><a href="#array-prototype-entries-实验" class="header-anchor">#</a> Array.prototype.entries() // 实验</h3> <p>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键值对</p> <h3 id="array-prototype-every"><a href="#array-prototype-every" class="header-anchor">#</a> Array.prototype.every()</h3> <p>如果数组中的每个元素都满足测试函数，则返回 true，反之 false</p> <h3 id="array-prototype-some"><a href="#array-prototype-some" class="header-anchor">#</a> Array.prototype.some()</h3> <p>如果数组中至少有一个元素满足测试函数，则返回 true, 反之 false</p> <h3 id="array-prototype-filter"><a href="#array-prototype-filter" class="header-anchor">#</a> Array.prototype.filter()</h3> <p>将所有在过滤函数中返回 true 的数组元素放进一个新数组并返回</p> <h3 id="array-prototype-find"><a href="#array-prototype-find" class="header-anchor">#</a> Array.prototype.find()</h3> <p>找到第一个满足测试函数的元素，并返回那个元素的值，如果找不到就返回 undefined</p> <h3 id="array-prototype-findindex"><a href="#array-prototype-findindex" class="header-anchor">#</a> Array.prototype.findIndex()</h3> <p>找到第一个满足测试函数的元素并返回那个元素的索引，如果找不到，就返回 -1</p> <h3 id="array-prototype-keys"><a href="#array-prototype-keys" class="header-anchor">#</a> Array.prototype.keys()</h3> <p>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键</p> <h3 id="array-prototype-map"><a href="#array-prototype-map" class="header-anchor">#</a> Array.prototype.map()</h3> <p>返回一个由回调函数的返回值组成的新数组</p> <h3 id="array-prototype-reduce"><a href="#array-prototype-reduce" class="header-anchor">#</a> Array.prototype.reduce()</h3> <p><strong>从左到右</strong>为每一个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</p> <h3 id="array-prototype-reduceright"><a href="#array-prototype-reduceright" class="header-anchor">#</a> Array.prototype.reduceRight()</h3> <p><strong>从右到左</strong>为每一个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</p> <h3 id="array-prototype-values"><a href="#array-prototype-values" class="header-anchor">#</a> Array.prototype.values()</h3> <p>返回一个数组迭代器对象，该迭代器会包含所有数组元素的值</p> <h3 id="array-prototype-iterator"><a href="#array-prototype-iterator" class="header-anchor">#</a> Array.prototype[@@iterator]()</h3> <p>与上个 values() 方法是同一个函数，认知即可</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/maxlxq/maxlxq.github.io/edit/master/docs/mdn/Array.md" target="_blank" rel="noopener noreferrer">本文源码地址</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mdn/真_基础.html" class="prev">
        JS 基础
      </a></span> <span class="next"><a href="/mdn/Symbol.html">
        Symbol
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.c54d73b3.js" defer></script><script src="/assets/js/2.6cdc8135.js" defer></script><script src="/assets/js/99.24466c79.js" defer></script><script src="/assets/js/4.a41c0c79.js" defer></script>
  </body>
</html>
